import{H as p,S as b}from"./Sidebar.d7e6fd94.js";import{_ as P}from"./index.25321405.js";import{c as r,a as n,i as e,m as c,j as y,k as S,t as u,s as h,r as g,o as d}from"./vendor.9dd6c1d0.js";var C={data(){return{StaffMembers:[],PaginateRange:7,CurrentPage:1,Pages:[],IsUserAdmin:0}},components:{"Staff-Header":p,"Staff-Sidebar":b},methods:{async GetStaffMembers(){const t=(await this.$axios.get("http://localhost:5000/api/staff")).data,i=[];t.forEach(o=>{o.adminLvl>=1&&i.push({id:o.id,name:o.username,adminLvl:o.adminLvl,lastLogin:this.GetDate(o.last_login),hoursPlayed:o.hoursPlayed.toFixed(2)})}),this.StaffMembers=i.sort((o,f)=>f.adminLvl-o.adminLvl),this.setPages(this.StaffMembers)},GoToProfile(s){this.$router.push("/profile/"+s)},GoToRapoarte(){this.$router.push("/rapoartestaff")},async hasUserAdmin(){this.$axios.get("http://localhost:5000/api/admin",{withCredentials:!0}).then(s=>{s.data.isAdmin?(this.IsUserAdmin=s.data.adminLvl,this.adminId=s.data.adminId):this.IsUserAdmin=0})},GetDate(s){var t=new Date(s*1e3),i=t.getFullYear(),o=t.getMonth(),f=t.getDate(),m=t.getHours(),_=t.getMinutes(),m=t.getHours()>12?t.getHours()-12:t.getHours()<10?"0"+t.getHours():t.getHours(),_=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),v=f+"/"+o+"/"+i+" "+m+":"+_;return v},PagePlus(){this.CurrentPage<this.Pages.length&&this.CurrentPage++},PageMinus(){this.CurrentPage!=1&&this.CurrentPage--},setPages(s){let t=Math.ceil(s.length/this.PaginateRange);for(let i=1;i<=t;i++)this.Pages.push(i)},paginate(s){let t=this.CurrentPage,i=this.PaginateRange,o=t*i-i,f=t*i;return s.slice(o,f)},async FormatHours(s){return await s.toFixed()}},computed:{StaffMembersTable(){return this.paginate(this.StaffMembers)}},async created(){let s=this.$loading.show({container:this.fullPage?null:this.$refs.formContainer,canCancel:!1,backgroundColor:"#00000090",transition:"fade",enforceFocus:!0,opacity:.9,loader:"dots",color:"#0098ff"});setTimeout(()=>{s.hide()},2e3),this.GetStaffMembers(),this.hasUserAdmin()}};const M={class:"dashboard"},k={class:"staff-content"},L={class:"staff-members"},H={class:"staff-members-header"},$={class:"staff-header-data"},A={class:"icon"},F=e("div",{class:"header-texts"},[e("h1",null,"Membrii Staff"),e("p",null,"Vezi toti membrii din staff-ul FairPlay Romania.")],-1),G={class:"file"},T=h(" Rapoarte Staff "),D=e("div",{class:"staff-hr"},null,-1),I={class:"staff-members-data"},R={class:"styled-table"},U=e("thead",null,[e("tr",null,[e("th",null,"Nume Admin"),e("th",null,"Grad"),e("th",null,"Ore jucate"),e("th",null,"Ultima Conectare")])],-1),x=["onClick"],w={class:"icon"},N={class:"staff-member-texts"},V={key:0,class:"staff-icon"},B={key:1,class:"staff-icon helper"},j={key:2,class:"staff-icon moderator"},E={class:"icon"},O=h(" Moderator "),z={key:3,class:"staff-icon administrator"},Y={class:"icon"},q=h(" Administrator "),J={key:4,class:"staff-icon developer"},K={class:"icon"},Q=h(" Developer "),W={key:5,class:"staff-icon fondator"},X={class:"icon"},Z=h(" Co-Fondator "),ee={key:6,class:"staff-icon fondator"},te={class:"icon"},se=h(" Fondator "),ae={class:"pagination"},ie={class:"icon"},oe={class:"page-selected"},ne={class:"icon"};function re(s,t,i,o,f,m){const _=g("Staff-Sidebar"),v=g("Staff-Header"),l=g("fa");return d(),r("div",M,[n(_,{page:"3"}),e("div",k,[n(v,{page:"Membrii Staff"}),e("div",L,[e("div",H,[e("div",$,[e("div",A,[n(l,{icon:"fa-solid fa-users"})]),F]),s.IsUserAdmin>=4?(d(),r("div",{key:0,class:"staff-raport-button",onClick:t[0]||(t[0]=a=>s.GoToRapoarte())},[e("div",G,[n(l,{icon:"fa-solid fa-file-shield"})]),T])):c("",!0)]),D,e("div",I,[e("table",R,[U,e("tbody",null,[(d(!0),r(y,null,S(s.StaffMembersTable,(a,de)=>(d(),r("tr",null,[e("td",null,[e("div",{class:"staff-member",onClick:le=>s.GoToProfile(a.id)},[e("div",w,[n(l,{icon:"fa-solid fa-user"})]),e("div",N,[e("h1",null,u(a.name),1),e("p",null,"ID: "+u(a.id),1)])],8,x)]),e("td",null,[a.adminLvl==1?(d(),r("div",V," Helper in Teste ")):c("",!0),a.adminLvl==2?(d(),r("div",B," Helper ")):c("",!0),a.adminLvl==3?(d(),r("div",j,[e("div",E,[n(l,{icon:"fa-solid fa-shield-halved"})]),O])):c("",!0),a.adminLvl==4?(d(),r("div",z,[e("div",Y,[n(l,{icon:"fa-solid fa-gavel"})]),q])):c("",!0),a.adminLvl==5?(d(),r("div",J,[e("div",K,[n(l,{icon:"fa-solid fa-code"})]),Q])):c("",!0),a.adminLvl==6?(d(),r("div",W,[e("div",X,[n(l,{icon:"fa-solid fa-user-shield"})]),Z])):c("",!0),a.adminLvl>=7?(d(),r("div",ee,[e("div",te,[n(l,{icon:"fa-solid fa-user-shield"})]),se])):c("",!0)]),e("td",null,u(a.hoursPlayed),1),e("td",null,u(a.lastLogin),1)]))),256))])])]),e("div",ae,[e("div",{class:"page-button",onClick:t[1]||(t[1]=a=>s.PageMinus())},[e("div",ie,[n(l,{icon:"fa-solid fa-angle-left"})])]),e("div",oe,u(s.CurrentPage),1),e("div",{class:"page-button",onClick:t[2]||(t[2]=a=>s.PagePlus())},[e("div",ne,[n(l,{icon:"fa-solid fa-chevron-right"})])])])])])])}var ue=P(C,[["render",re]]);export{ue as default};
