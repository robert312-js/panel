import{H as f,S as v}from"./Sidebar.d7e6fd94.js";import{_ as b}from"./index.25321405.js";import{c as l,a as o,i as e,j as B,k as P,t as c,r as g,o as d,m as h,s as y}from"./vendor.9dd6c1d0.js";var D={data(){return{UsersBans:[],PaginateRange:7,CurrentPage:1,Pages:[]}},components:{"Bans-Header":f,"Bans-Sidebar":v},methods:{async GetBans(){try{const n=(await this.$axios.get("https://api.fairplay-rp.ro/api/users")).data.filter(r=>r.userBans).map(r=>({id:r.id,username:r.username,userBans:r.userBans}));this.UsersBans=n.sort((r,u)=>+new Date(u.userBans.banDate)-+new Date(r.userBans.banDate)),this.setPages(this.UsersBans)}catch(s){console.error(s)}},GetDate(s){var t=new Date(s*1e3),n=t.getFullYear(),r=t.getMonth(),u=t.getDate(),m=t.getHours(),_=t.getMinutes(),p=t.getSeconds(),i=u+"/"+r+"/"+n+" "+m+":"+_+":"+p;return i},GoToProfile(s){this.$router.push("/profile/"+s)},PagePlus(){this.CurrentPage<this.Pages.length&&(console.log(this.CurrentPage),this.CurrentPage++)},PageMinus(){this.CurrentPage!=1&&this.CurrentPage--},setPages(s){let t=Math.ceil(s.length/this.PaginateRange);for(let n=1;n<=t;n++)this.Pages.push(n)},paginate(s){let t=this.CurrentPage,n=this.PaginateRange,r=t*n-n,u=t*n;return s.slice(r,u)},async FormatHours(s){return await s.toFixed()}},computed:{GetBanlist(){return this.paginate(this.UsersBans)}},async created(){let s=this.$loading.show({container:this.fullPage?null:this.$refs.formContainer,canCancel:!1,backgroundColor:"#00000090",transition:"fade",enforceFocus:!0,opacity:.9,loader:"dots",color:"#0098ff"});setTimeout(()=>{s.hide()},2e3),this.GetBans()}};const C={class:"dashboard"},k={class:"banlist-content"},$={class:"banlist-members"},x={class:"banlist-members-header"},G={class:"icon"},H=e("div",{class:"header-texts"},[e("h1",null,"Ban List"),e("p",null,"Vezi lista cu membri banati de pe server.")],-1),S=e("div",{class:"banlist-hr"},null,-1),w={class:"banlist-members-data"},M={class:"banlist-table"},R=e("thead",null,[e("tr",null,[e("th",null,"Nume"),e("th",null,"De Catre"),e("th",null,"Motiv"),e("th",null,"La data"),e("th",null,"Data expir\u0103rii"),e("th",null,"Drept de Plata")])],-1),U=["onClick"],F={class:"icon"},N={class:"banlist-member-texts"},V={key:0,class:"banlist-bantype permanent"},L={class:"icon"},T=y(" Permanent "),j={key:1,class:"banlist-bantype"},z={key:0,class:"drept-plata canpay"},E={key:1,class:"drept-plata cantpay"},I={class:"pagination"},J={class:"icon"},O={class:"page-selected"},Y={class:"icon"};function q(s,t,n,r,u,m){const _=g("Bans-Sidebar"),p=g("Bans-Header"),i=g("fa");return d(),l("div",C,[o(_,{page:"2"}),e("div",k,[o(p,{page:"Lista Jucatori Banati"}),e("div",$,[e("div",x,[e("div",G,[o(i,{icon:"fa-solid fa-users"})]),H]),S,e("div",w,[e("table",M,[R,e("tbody",null,[(d(!0),l(B,null,P(s.GetBanlist,(a,A)=>(d(),l("tr",null,[e("td",null,[e("div",{class:"banlist-member",onClick:K=>s.GoToProfile(a.id)},[e("div",F,[o(i,{icon:"fa-solid fa-user"})]),e("div",N,[e("h1",null,c(a.username),1),e("p",null,"ID: "+c(a.id),1)])],8,U)]),e("td",null,c(a.userBans.bannedBy),1),e("td",null,c(a.userBans.banReason),1),e("td",null,c(a.userBans.bannedDate),1),e("td",null,[a.userBans.expireDate=="never"?(d(),l("div",V,[e("div",L,[o(i,{icon:"fa-solid fa-ban"})]),T])):h("",!0),a.userBans.expireDate!="never"?(d(),l("div",j,c(a.userBans.expireDate),1)):h("",!0)]),e("td",null,[a.userBans.dreptPlata==!0?(d(),l("div",z,[o(i,{icon:"fa-solid fa-circle-check"})])):h("",!0),a.userBans.dreptPlata==!1?(d(),l("div",E,[o(i,{icon:"fa-solid fa-ban"})])):h("",!0)])]))),256))])])]),e("div",I,[e("div",{class:"page-button",onClick:t[0]||(t[0]=a=>s.PageMinus())},[e("div",J,[o(i,{icon:"fa-solid fa-angle-left"})])]),e("div",O,c(s.CurrentPage),1),e("div",{class:"page-button",onClick:t[1]||(t[1]=a=>s.PagePlus())},[e("div",Y,[o(i,{icon:"fa-solid fa-chevron-right"})])])])])])])}var Z=b(D,[["render",q]]);export{Z as default};
